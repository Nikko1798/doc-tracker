import{_ as v}from"./Datatable.vue_vue_type_script_setup_true_lang-kOl27AoN.js";import{s as c}from"./index-ikzcNs2d.js";import{_ as x}from"./Button.vue_vue_type_script_setup_true_lang-D4V9jL43.js";import{d as h,B as w,c as n,b as s,a as d,w as t,e as b,u as i,l as g,z as l,o as u,F as p,G as S,I as P}from"./app-mI0qlyDT.js";import{_ as C}from"./documentDrawerForm.vue_vue_type_script_setup_true_lang-DYQ0GEGy.js";import{c as D}from"./createLucideIcon-Bm6eGYnl.js";const A=D("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),T={class:"flex justify-start items-center"},k=["onChange"],N={key:0,selected:""},U={key:1,value:""},F=["selected","value"],E=h({__name:"documentTableForAuthUser",props:{documentTypes:{type:Array,default:()=>[]},complexities:{type:Array,default:()=>[]},offices:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]},documentType:{type:Number,default:0,required:!0}},setup(o){const y=o,_=w(),f=(async(m,e)=>{const r=m.target;try{const a=await P.patch(c("document.update-doc-status",e),{doc_status:r.value},{})}catch{}});return(m,e)=>(u(),n(p,null,[s("div",T,[d(i(g),{href:i(c)("document.index")},{default:t(()=>[d(x,{class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-800 hover:cursor-pointer"},{default:t(()=>[d(i(A)),e[0]||(e[0]=b("Create New",-1))]),_:1})]),_:1},8,["href"])]),d(v,{apiUrl:i(c)("document.fetch-all-documents"),extraParams:{document_type:y.documentType},tableHeaders:[],"visible-columns":["document_status","date_received","document_type","other_details","title","authority_or_fund_source","ncca_end_user","office_concerned","control_number","date_time_ready","date_time_released","service_to_ncca","concerned_party_or_supplier","total_service_amount","actions"],sortableColumns:["id","title","date_received"],itemsPerPage:1,eventName:"refresh-all-documents"},{"header-document_status":t(()=>[...e[1]||(e[1]=[s("div",{class:"text-white"},"Document Status",-1)])]),"header-date_received":t(()=>[...e[2]||(e[2]=[s("div",{class:"text-white"},"Date Received",-1)])]),"header-document_type":t(()=>[...e[3]||(e[3]=[s("div",{class:"text-white"},"Document type",-1)])]),"header-other_details":t(()=>[...e[4]||(e[4]=[s("div",{class:"text-white"},"Other details",-1)])]),"header-title":t(()=>[...e[5]||(e[5]=[s("div",{class:"text-white"},"Project/Program",-1)])]),"header-authority_or_fund_source":t(()=>[...e[6]||(e[6]=[s("div",{class:"text-white"},"Authority/Fund Source",-1)])]),"header-ncca_end_user":t(()=>[...e[7]||(e[7]=[s("div",{class:"text-white"},"NCCA End user",-1)])]),"header-office_concerned":t(()=>[...e[8]||(e[8]=[s("div",{class:"text-white"},"Office Concerned",-1)])]),"header-control_number":t(()=>[...e[9]||(e[9]=[s("div",{class:"text-white"},"Control number",-1)])]),"header-date_time_ready":t(()=>[...e[10]||(e[10]=[s("div",{class:"text-white"},"Date ready",-1)])]),"header-date_time_released":t(()=>[...e[11]||(e[11]=[s("div",{class:"text-white"},"Date released",-1)])]),"header-service_to_ncca":t(()=>[...e[12]||(e[12]=[s("div",{class:"text-white"},"Service to NCCA",-1)])]),"header-concerned_party_or_supplier":t(()=>[...e[13]||(e[13]=[s("div",{class:"text-white"},"Concerned Party or Supplier",-1)])]),"header-total_service_amount":t(()=>[...e[14]||(e[14]=[s("div",{class:"text-white"},"Total Service Amount",-1)])]),"header-actions":t(()=>[...e[15]||(e[15]=[s("div",{class:"text-white"},"Action",-1)])]),"cell-0":t(({rowData:r})=>[s("span",null,[s("select",{onChange:a=>f(a,r.id),id:"countries",class:"block w-full px-3 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-base focus:ring-brand focus:border-brand shadow-xs placeholder:text-body"},[r.document_status_id?(u(),n("option",U,"Select status")):(u(),n("option",N,"Select status")),(u(!0),n(p,null,S(i(_).props.documentStatus,(a,L)=>(u(),n("option",{selected:r.document_status_id===a.id,key:a.id,value:a.id},l(a.codevalue),9,F))),128))],40,k)])]),"cell-1":t(({rowData:r})=>[s("span",null,l(new Date(r.date_received+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),1)]),"cell-9":t(({rowData:r})=>[s("span",null,l(new Date(r.date_time_ready).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),1)]),"cell-10":t(({rowData:r})=>[s("span",null,l(new Date(r.date_time_released).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),1)]),"cell-13":t(({rowData:r})=>[s("span",null,l(new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(r.total_service_amount)),1)]),"cell-14":t(({rowData:r})=>[d(C,{rowData:r,documentTypes:o.documentTypes,complexities:o.complexities,offices:o.offices,employees:o.employees},null,8,["rowData","documentTypes","complexities","offices","employees"])]),_:1},8,["apiUrl","extraParams"])],64))}});export{E as _};
