import{a3 as x,a2 as P,r as p,i as y,ac as U,L as N,E as $,D,d as M,t as F,ad as L,a4 as _,O as j,ae as k,f as V,o as q,w as B,g as H,u as K}from"./app-BL3RfPCG.js";import{r as W,S as I,P as Y}from"./index-CYa371-H.js";import{i as z,l as G,b as R}from"./index-BNawqpCT.js";function J(e,t){const o=typeof e=="string"&&!t?`${e}Context`:t,n=Symbol(o);return[s=>{const l=x(n,s);if(l||l===null)return l;throw new Error(`Injection \`${n.toString()}\` not found. Component must be used within ${Array.isArray(e)?`one of the following components: ${e.join(", ")}`:`\`${e}\``}`)},s=>(P(n,s),s)]}function T(){let e=document.activeElement;if(e==null)return null;for(;e!=null&&e.shadowRoot!=null&&e.shadowRoot.activeElement!=null;)e=e.shadowRoot.activeElement;return e}function se(e){return e==null}const[Q]=J("ConfigProvider");function le(e){const t=Q({dir:p("ltr")});return y(()=>e?.value||t.dir?.value||"ltr")}function ue(e,t="reka"){return`${t}-${U?.()}`}function X(e,t){const o=p(e);function n(c){return t[o.value][c]??o.value}return{state:o,dispatch:c=>{o.value=n(c)}}}function Z(e,t){const o=p({}),n=p("none"),r=p(e),c=e.value?"mounted":"unmounted";let s;const l=t.value?.ownerDocument.defaultView??z,{state:m,dispatch:u}=X(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),a=i=>{if(G){const f=new CustomEvent(i,{bubbles:!1,cancelable:!1});t.value?.dispatchEvent(f)}};N(e,async(i,f)=>{const S=f!==i;if(await $(),S){const C=n.value,E=g(t.value);i?(u("MOUNT"),a("enter"),E==="none"&&a("after-enter")):E==="none"||E==="undefined"||o.value?.display==="none"?(u("UNMOUNT"),a("leave"),a("after-leave")):f&&C!==E?(u("ANIMATION_OUT"),a("leave")):(u("UNMOUNT"),a("after-leave"))}},{immediate:!0});const d=i=>{const f=g(t.value),S=f.includes(CSS.escape(i.animationName)),C=m.value==="mounted"?"enter":"leave";if(i.target===t.value&&S&&(a(`after-${C}`),u("ANIMATION_END"),!r.value)){const E=t.value.style.animationFillMode;t.value.style.animationFillMode="forwards",s=l?.setTimeout(()=>{t.value?.style.animationFillMode==="forwards"&&(t.value.style.animationFillMode=E)})}i.target===t.value&&f==="none"&&u("ANIMATION_END")},v=i=>{i.target===t.value&&(n.value=g(t.value))},A=N(t,(i,f)=>{i?(o.value=getComputedStyle(i),i.addEventListener("animationstart",v),i.addEventListener("animationcancel",d),i.addEventListener("animationend",d)):(u("ANIMATION_END"),s!==void 0&&l?.clearTimeout(s),f?.removeEventListener("animationstart",v),f?.removeEventListener("animationcancel",d),f?.removeEventListener("animationend",d))},{immediate:!0}),h=N(m,()=>{const i=g(t.value);n.value=m.value==="mounted"?i:"none"});return D(()=>{A(),h()}),{isPresent:y(()=>["mounted","unmountSuspended"].includes(m.value))}}function g(e){return e&&getComputedStyle(e).animationName||"none"}var ce=M({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(e,{slots:t,expose:o}){const{present:n,forceMount:r}=F(e),c=p(),{isPresent:s}=Z(n,c);o({present:s});let l=t.default({present:s.value});l=W(l||[]);const m=L();if(l&&l?.length>1){const u=m?.parent?.type.name?`<${m.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${u}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(a=>`  - ${a}`).join(`
`)].join(`
`))}return()=>r.value||n.value||s.value?_(t.default({present:s.value})[0],{ref:u=>{const a=R(u);return typeof a?.hasAttribute>"u"||(a?.hasAttribute("data-reka-popper-content-wrapper")?c.value=a.firstElementChild:c.value=a),a}}):null}});function b(){const e=p(),t=y(()=>["#text","#comment"].includes(e.value?.$el.nodeName)?e.value?.$el.nextElementSibling:R(e));return{primitiveElement:e,currentElement:t}}const O="data-reka-collection-item";function de(e={}){const{key:t="",isProvider:o=!1}=e,n=`${t}CollectionProvider`;let r;if(o){const a=p(new Map);r={collectionRef:p(),itemMap:a},P(n,r)}else r=x(n);const c=(a=!1)=>{const d=r.collectionRef.value;if(!d)return[];const v=Array.from(d.querySelectorAll(`[${O}]`)),h=Array.from(r.itemMap.value.values()).sort((w,i)=>v.indexOf(w.ref)-v.indexOf(i.ref));return a?h:h.filter(w=>w.ref.dataset.disabled!=="")},s=M({name:"CollectionSlot",setup(a,{slots:d}){const{primitiveElement:v,currentElement:A}=b();return N(A,()=>{r.collectionRef.value=A.value}),()=>_(I,{ref:v},d)}}),l=M({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(a,{slots:d,attrs:v}){const{primitiveElement:A,currentElement:h}=b();return j(w=>{if(h.value){const i=k(h.value);r.itemMap.value.set(i,{ref:h.value,value:a.value}),w(()=>r.itemMap.value.delete(i))}}),()=>_(I,{...v,[O]:"",ref:A},d)}}),m=y(()=>Array.from(r.itemMap.value.values())),u=y(()=>r.itemMap.value.size);return{getItems:c,reactiveItems:m,itemMapSize:u,CollectionSlot:s,CollectionItem:l}}const fe="rovingFocusGroup.onEntryFocus",me={bubbles:!1,cancelable:!0},ee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function te(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function ve(e,t,o){const n=te(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return ee[n]}function pe(e,t=!1){const o=T();for(const n of e)if(n===o||(n.focus({preventScroll:t}),T()!==o))return}function he(e,t){return e.map((o,n)=>e[(t+n)%e.length])}var ne=M({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(e){return(t,o)=>(q(),V(K(Y),{as:t.as,"as-child":t.asChild,"aria-hidden":t.feature==="focusable"?"true":void 0,"data-hidden":t.feature==="fully-hidden"?"":void 0,tabindex:t.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:B(()=>[H(t.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),Ae=ne;export{fe as E,ce as P,Ae as V,ue as a,de as b,J as c,Q as d,b as e,pe as f,ve as g,T as h,se as i,me as j,le as u,he as w};
