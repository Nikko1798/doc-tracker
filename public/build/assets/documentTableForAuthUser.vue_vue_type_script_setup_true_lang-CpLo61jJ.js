import{_ as S}from"./Datatable.vue_vue_type_style_index_0_lang-CtQVp4Sf.js";import{s as m}from"./index-ikzcNs2d.js";import{_ as v}from"./index-Baw-UfWU.js";import{d as P,B as D,r as x,c as i,b as r,a as o,w as t,e as h,u as n,l as M,z as u,o as c,F as b,G as A,I as T,J as N}from"./app-B8-EqxTQ.js";import{_ as U}from"./documentDrawerForm.vue_vue_type_script_setup_true_lang-BUYBmwOq.js";import{c as f}from"./createLucideIcon-CVh5S3GU.js";const I=f("PlusIcon",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);const R=f("QrCodeIcon",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);const j=f("SquarePenIcon",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),q={class:"flex justify-start items-center"},F=["onChange"],H={key:0,selected:""},L={key:1,value:""},Q=["selected","value"],$={class:"flex items-center justify-center space-x-4"},z={class:"space-x-2"},W=P({__name:"documentTableForAuthUser",props:{documentTypes:{type:Array,default:()=>[]},complexities:{type:Array,default:()=>[]},offices:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]},documentType:{type:Number,default:0,required:!0}},setup(l){const g=l,k=D(),w=(async(d,e)=>{const s=d.target;try{const a=await T.patch(m("document.update-doc-status",e),{doc_status:s.value},{})}catch{}}),C=(d=>{window.open(m("document.generateQr",d),"_blank")}),p=x(!1),y=x({}),_=d=>{y.value=d,p.value=!0,console.log(N(y.value))};return(d,e)=>(c(),i(b,null,[r("div",q,[o(n(M),{href:n(m)("document.index")},{default:t(()=>[o(v,{class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-800 hover:cursor-pointer"},{default:t(()=>[o(n(I)),e[1]||(e[1]=h("Create New",-1))]),_:1})]),_:1},8,["href"])]),o(S,{apiUrl:n(m)("document.fetch-all-documents"),extraParams:{document_type:g.documentType},tableHeaders:[],"visible-columns":["document_status","date_received","document_type","title","concerned_party_or_supplier","service_to_ncca","authority_or_fund_source","ncca_end_user","other_details","office_concerned","control_number","date_time_ready","date_time_released","remarks","total_service_amount","actions"],sortableColumns:["id","title","date_received"],itemsPerPage:1,eventName:"refresh-all-documents",rowDblClick:_},{"header-document_status":t(()=>[...e[2]||(e[2]=[r("div",{class:"text-white"},"Document Status",-1)])]),"header-date_received":t(()=>[...e[3]||(e[3]=[r("div",{class:"text-white"},"Date Received",-1)])]),"header-document_type":t(()=>[...e[4]||(e[4]=[r("div",{class:"text-white"},"Document type",-1)])]),"header-title":t(()=>[...e[5]||(e[5]=[r("div",{class:"text-white"},"Project/Program",-1)])]),"header-concerned_party_or_supplier":t(()=>[...e[6]||(e[6]=[r("div",{class:"text-white"},"Concerned Party or Supplier",-1)])]),"header-service_to_ncca":t(()=>[...e[7]||(e[7]=[r("div",{class:"text-white"},"Service to NCCA",-1)])]),"header-authority_or_fund_source":t(()=>[...e[8]||(e[8]=[r("div",{class:"text-white"},"Authority/Fund Source",-1)])]),"header-ncca_end_user":t(()=>[...e[9]||(e[9]=[r("div",{class:"text-white"},"NCCA End user",-1)])]),"header-other_details":t(()=>[...e[10]||(e[10]=[r("div",{class:"text-white"},"Other details",-1)])]),"header-office_concerned":t(()=>[...e[11]||(e[11]=[r("div",{class:"text-white"},"Office Concerned",-1)])]),"header-control_number":t(()=>[...e[12]||(e[12]=[r("div",{class:"text-white"},"Control number",-1)])]),"header-date_time_ready":t(()=>[...e[13]||(e[13]=[r("div",{class:"text-white"},"Date ready",-1)])]),"header-date_time_released":t(()=>[...e[14]||(e[14]=[r("div",{class:"text-white"},"Date released",-1)])]),"header-total_service_amount":t(()=>[...e[15]||(e[15]=[r("div",{class:"text-white"},"Total Service Amount",-1)])]),"header-remarks":t(()=>[...e[16]||(e[16]=[r("div",{class:"text-white"},"Remarks",-1)])]),"header-actions":t(()=>[...e[17]||(e[17]=[r("div",{class:"text-white"},"Action",-1)])]),"cell-0":t(({rowData:s})=>[r("span",null,[r("select",{onChange:a=>w(a,s.id),id:"countries",class:"block w-full px-3 py-2.5 bg-neutral-secondary-medium border border-default-medium text-heading text-sm rounded-base focus:ring-brand focus:border-brand shadow-xs placeholder:text-body"},[s.document_status_id?(c(),i("option",L,"Select status")):(c(),i("option",H,"Select status")),(c(!0),i(b,null,A(n(k).props.documentStatus,(a,B)=>(c(),i("option",{selected:s.document_status_id===a.id,key:a.id,value:a.id},u(a.codevalue),9,Q))),128))],40,F)])]),"cell-1":t(({rowData:s})=>[r("span",null,u(new Date(s.date_received+"T00:00:00").toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),1)]),"cell-11":t(({rowData:s})=>[r("span",null,u(s.date_time_ready?new Date(s.date_time_ready).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""),1)]),"cell-12":t(({rowData:s})=>[r("span",null,u(s.date_time_released?new Date(s.date_time_released).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""),1)]),"cell-14":t(({rowData:s})=>[r("span",null,u(new Intl.NumberFormat("en-PH",{style:"currency",currency:"PHP"}).format(s.total_service_amount)),1)]),"cell-15":t(({rowData:s})=>[r("div",$,[o(v,{onClick:a=>C(s.id),class:"bg-blue-500 hover:bg-blue-800 hover:cursor-pointer"},{default:t(()=>[o(n(R)),e[18]||(e[18]=h(" Generate QR",-1))]),_:1},8,["onClick"]),o(v,{onClick:a=>_(s),'"':"",class:"bg-blue-500 hover:bg-blue-800 hover:cursor-pointer"},{default:t(()=>[o(n(j)),e[19]||(e[19]=h(" Update",-1))]),_:1},8,["onClick"])]),r("div",z,[o(U,{open:p.value,"onUpdate:open":e[0]||(e[0]=a=>p.value=a),rowData:y.value,documentTypes:l.documentTypes,complexities:l.complexities,offices:l.offices,employees:l.employees},null,8,["open","rowData","documentTypes","complexities","offices","employees"])])]),_:1},8,["apiUrl","extraParams"])],64))}});export{W as _};
