import{d as _e,B as fe,i as F,r as p,y as pe,L as R,c as h,F as x,b as d,a as l,f as $,k as ve,w as t,u as e,e as r,z as m,x as ye,p as ge,H as N,G as E,o as c}from"./app-LT_ArLpB.js";import{$ as Ve,a as D,b as be,_ as k,c as U,d as z,e as C,f as L,g as G}from"./Textarea.vue_vue_type_script_setup_true_lang-H922hHEm.js";import{c as S}from"./utils-kKsk6u8f.js";import{_ as V}from"./index-DJDdTgWW.js";import{_ as f}from"./Input.vue_vue_type_script_setup_true_lang-CM-SWIUH.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-D1jAjMH_.js";import{_ as H,a as q,b as I,c as J,d as K,e as Q}from"./SelectValue.vue_vue_type_script_setup_true_lang-u9Zs36lb.js";import{_ as W,a as X,b as Y,c as Z,d as ee,e as le}from"./index-CaLGo2MR.js";import{a as we,_ as he}from"./index-R61CfGqx.js";import{_ as ae}from"./Badge.vue_vue_type_script_setup_true_lang-B72Yu3ey.js";import{_ as i}from"./InputError.vue_vue_type_script_setup_true_lang-DXxjxzK_.js";import{s as xe}from"./index-ikzcNs2d.js";import{C as $e}from"./check-check-B0jHsnGN.js";import{C as se}from"./chevrons-up-down-BDTYMmv7.js";import{C as te}from"./check-DCLiTnL1.js";const Ne={class:"grid p-5"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ue={class:"grid grid-cols-2 gap-2"},Ce={class:"space-y-2"},Se={class:"space-y-2"},Oe={class:"date_received_date"},Ee={class:"space-y-2"},De={class:"space-y-2"},Ae={class:"grid grid-cols-1 gap-2"},Pe={class:"space-y-2"},je={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Te={class:"space-y-2"},Be={class:"space-y-2"},Fe={class:"grid grid-cols-1 gap-2"},Re={class:"space-y-2"},ze={class:"grid grid-cols-1 gap-2"},Le={class:"space-y-2"},Me={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ge={class:"space-y-2"},He={class:"office_concerned_div"},qe={class:"space-y-2"},Ie={class:"ncca_end_user_div"},Je={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ke={class:"space-y-2 grid grid-cols-1 gap-2"},Qe={class:"space-y-2"},We={class:"date_received_div"},Xe={class:"space-y-2 grid grid-cols-2 gap-2"},Ye={class:"space-y-2"},Ze={class:"date_released_div"},el={class:"space-y-2"},ll={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},al={class:"space-y-2"},sl={class:"space-y-2"},tl={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},ol={class:"space-y-2"},dl={class:"space-y-2"},rl={class:"flex items-center justify-center mt-15 mb-10"},Nl=_e({__name:"DocumentDetailForm",props:{documentTypes:{type:Array,default:()=>[]},complexities:{type:Array,default:()=>[]},offices:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]}},setup(A){const O=A,oe=fe(),M=F(()=>oe.props.flash.success),P=Ve(D()),v=p(),y=p(),g=p(),j=new be("en-US",{dateStyle:"long"}),T=p(""),B=p(""),s=pe({date_received:null,time_received:"",document_type:null,title:"",control_number:"",complexity:null,other_details:"",person_claiming_or_remarks:"",authority_or_fund_source:"",ncca_end_user:null,office_concerned:null,date_ready:null,date_released:null,time_released:"",service_to_ncca:"",concerned_party_or_supplier:"",total_service_amount:0,NewEmployeeName:"",NewOfficeName:""});R(v,(n,a)=>{s.date_received=n?n.toString():null}),R(y,(n,a)=>{s.date_ready=n?n.toString():null}),R(g,(n,a)=>{s.date_released=n?n.toString():null});const b=p(!1),w=p(!1),de=F(()=>O.employees.find(n=>n.id===s.ncca_end_user));function re(n){s.ncca_end_user=n===s.ncca_end_user?"":n,s.NewEmployeeName="",w.value=!1}function ne(){s.ncca_end_user=null,s.NewEmployeeName=T.value,w.value=!1}const ue=F(()=>O.offices.find(n=>n.id===s.office_concerned));function ie(n){s.office_concerned=n===s.office_concerned?"":n,s.NewOfficeName="",b.value=!1}function me(){s.office_concerned=null,s.NewOfficeName=B.value,b.value=!1}const ce=()=>{s.post(xe("document.store"),{onSuccess:()=>{s.reset()}})};return(n,a)=>(c(),h(x,null,[d("div",Ne,[M.value?(c(),$(e(he),{key:0,class:"bg-green-800 text-white"},{default:t(()=>[l(e($e)),l(e(we),null,{default:t(()=>[r(m(M.value),1)]),_:1})]),_:1})):ve("",!0)]),l(e(ye),{class:"p-5 space-y-5",onSubmit:ge(ce,["prevent"])},{default:t(({errors:nl,processing:ul})=>[d("div",ke,[d("div",Ue,[d("div",Ce,[d("div",Se,[l(u,null,{default:t(()=>[...a[21]||(a[21]=[r("Date received",-1)])]),_:1}),d("div",Oe,[l(e(k),{class:"w-full"},{default:t(({close:o})=>[l(e(U),{"as-child":""},{default:t(()=>[l(e(V),{variant:"outline",class:N(e(S)("w-full justify-start text-left font-normal",!v.value&&"text-muted-foreground"))},{default:t(()=>[l(e(z)),r(" "+m(v.value?e(j).format(v.value.toDate(e(D)())):"Pick a date"),1)]),_:1},8,["class"])]),_:1}),l(e(C),{class:"w-auto p-0",align:"start"},{default:t(()=>[l(e(L),{modelValue:v.value,"onUpdate:modelValue":[a[0]||(a[0]=_=>v.value=_),o],"default-placeholder":e(P),layout:"month-and-year","initial-focus":""},null,8,["modelValue","default-placeholder","onUpdate:modelValue"])]),_:2},1024)]),_:1})]),l(i,{message:e(s).errors.date_received},null,8,["message"])])]),d("div",Ee,[l(u,null,{default:t(()=>[...a[22]||(a[22]=[r("Time received",-1)])]),_:1}),l(f,{type:"time",modelValue:e(s).time_received,"onUpdate:modelValue":a[1]||(a[1]=o=>e(s).time_received=o),id:"time_received",name:"time_received",placeholder:"enter time received here...."},null,8,["modelValue"]),l(i,{message:e(s).errors.time_received},null,8,["message"])])]),d("div",De,[l(u,null,{default:t(()=>[...a[23]||(a[23]=[r("Document type",-1)])]),_:1}),l(e(H),{modelValue:e(s).document_type,"onUpdate:modelValue":a[2]||(a[2]=o=>e(s).document_type=o)},{default:t(()=>[l(e(q),{class:"w-full"},{default:t(()=>[l(e(I),{placeholder:"Select a document type"})]),_:1}),l(e(J),null,{default:t(()=>[l(e(K),null,{default:t(()=>[(c(!0),h(x,null,E(A.documentTypes,o=>(c(),$(e(Q),{key:o.id,value:o.id},{default:t(()=>[r(m(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(i,{message:e(s).errors.document_type},null,8,["message"])])]),d("div",Ae,[d("div",Pe,[l(u,null,{default:t(()=>[...a[24]||(a[24]=[r("Title",-1)])]),_:1}),l(f,{type:"text",modelValue:e(s).title,"onUpdate:modelValue":a[3]||(a[3]=o=>e(s).title=o),id:"title",name:"title",placeholder:"enter title here...."},null,8,["modelValue"]),l(i,{message:e(s).errors.title},null,8,["message"])])]),d("div",je,[d("div",Te,[l(u,null,{default:t(()=>[...a[25]||(a[25]=[r("Control Number",-1)])]),_:1}),l(f,{type:"text",modelValue:e(s).control_number,"onUpdate:modelValue":a[4]||(a[4]=o=>e(s).control_number=o),id:"control_number",name:"control_number",placeholder:"enter control number here...."},null,8,["modelValue"]),l(i,{message:e(s).errors.control_number},null,8,["message"])]),d("div",Be,[l(u,null,{default:t(()=>[...a[26]||(a[26]=[r("Simple/Complex",-1)])]),_:1}),l(e(H),{modelValue:e(s).complexity,"onUpdate:modelValue":a[5]||(a[5]=o=>e(s).complexity=o)},{default:t(()=>[l(e(q),{class:"w-full"},{default:t(()=>[l(e(I),{placeholder:"Select a complexity"})]),_:1}),l(e(J),null,{default:t(()=>[l(e(K),null,{default:t(()=>[(c(!0),h(x,null,E(A.complexities,o=>(c(),$(e(Q),{key:o.id,value:o.id},{default:t(()=>[r(m(o.codevalue),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(i,{message:e(s).errors.complexity},null,8,["message"])])]),d("div",Fe,[d("div",Re,[l(u,null,{default:t(()=>[...a[27]||(a[27]=[r("Other details",-1)])]),_:1}),l(G,{modelValue:e(s).other_details,"onUpdate:modelValue":a[6]||(a[6]=o=>e(s).other_details=o),id:"other_details",name:"other_details",rows:"2",placeholder:"enter other details here...."},null,8,["modelValue"]),l(i,{message:e(s).errors.other_details},null,8,["message"])])]),d("div",ze,[d("div",Le,[l(u,null,{default:t(()=>[...a[28]||(a[28]=[r("Person Claiming/Remarks",-1)])]),_:1}),l(G,{modelValue:e(s).person_claiming_or_remarks,"onUpdate:modelValue":a[7]||(a[7]=o=>e(s).person_claiming_or_remarks=o),id:"person_claiming_or_remarks",name:"person_claiming_or_remarks",rows:"2",placeholder:"enter remarks here...."},null,8,["modelValue"]),l(i,{message:e(s).errors.person_claiming_or_remarks},null,8,["message"])])]),d("div",Me,[d("div",Ge,[l(u,null,{default:t(()=>[...a[29]||(a[29]=[r("Office Concerned",-1)])]),_:1}),d("div",He,[l(e(k),{open:b.value,"onUpdate:open":a[10]||(a[10]=o=>b.value=o)},{default:t(()=>[l(e(U),{"as-child":""},{default:t(()=>[l(e(V),{variant:"outline",role:"combobox","aria-expanded":b.value,class:"w-full justify-between"},{default:t(()=>[r(m(ue.value?.name||(e(s).NewOfficeName?e(s).NewOfficeName:"Office..."))+" ",1),l(e(se),{class:"opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),l(e(C),{class:"w-full p-0"},{default:t(()=>[l(e(W),null,{default:t(()=>[l(e(X),{class:"h-9",placeholder:"Search office...",modelValue:B.value,"onUpdate:modelValue":a[8]||(a[8]=o=>B.value=o)},null,8,["modelValue"]),l(e(Y),null,{default:t(()=>[l(e(Z),null,{default:t(()=>[l(ae,{onClick:me,class:"bg-blue-500 w-full hover:cursor-pointer hover:bg-blue-800"},{default:t(()=>[...a[30]||(a[30]=[r(" Add this to the list ",-1)])]),_:1})]),_:1}),l(e(ee),null,{default:t(()=>[(c(!0),h(x,null,E(O.offices,o=>(c(),$(e(le),{key:o.id,value:o.id,onSelect:a[9]||(a[9]=_=>{ie(_.detail.value)})},{default:t(()=>[r(m(o.name)+" ",1),l(e(te),{class:N(e(S)("ml-auto",e(s).office_concerned===o.id?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),l(i,{message:e(s).errors.office_concerned},null,8,["message"])]),d("div",qe,[l(u,null,{default:t(()=>[...a[31]||(a[31]=[r("NCCA End User",-1)])]),_:1}),d("div",Ie,[l(e(k),{open:w.value,"onUpdate:open":a[13]||(a[13]=o=>w.value=o)},{default:t(()=>[l(e(U),{"as-child":""},{default:t(()=>[l(e(V),{variant:"outline",role:"combobox","aria-expanded":w.value,class:"w-full justify-between"},{default:t(()=>[r(m(de.value?.name||(e(s).NewEmployeeName?e(s).NewEmployeeName:"Employee..."))+" ",1),l(e(se),{class:"opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),l(e(C),{class:"w-full p-0"},{default:t(()=>[l(e(W),null,{default:t(()=>[l(e(X),{class:"h-9 border border-gray-300 rounded-lg p-4",placeholder:"Search employee...",modelValue:T.value,"onUpdate:modelValue":a[11]||(a[11]=o=>T.value=o)},null,8,["modelValue"]),l(e(Y),null,{default:t(()=>[l(e(Z),{class:"pr-2 pl-2"},{default:t(()=>[l(ae,{onClick:ne,class:"bg-blue-500 w-full hover:cursor-pointer hover:bg-blue-800"},{default:t(()=>[...a[32]||(a[32]=[r(" Add this to the list ",-1)])]),_:1})]),_:1}),l(e(ee),{class:"bg-gray-300"},{default:t(()=>[(c(!0),h(x,null,E(O.employees,o=>(c(),$(e(le),{class:"hover:cursor-pointer hover:bg-gray-200",key:o.id,value:o.id,onSelect:a[12]||(a[12]=_=>{re(_.detail.value)})},{default:t(()=>[r(m(o.name)+" ",1),l(e(te),{class:N(e(S)("ml-auto",e(s).ncca_end_user===o.id?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),l(i,{message:e(s).errors.ncca_end_user},null,8,["message"])])]),d("div",Je,[d("div",Ke,[d("div",Qe,[l(u,null,{default:t(()=>[...a[33]||(a[33]=[r("Date ready",-1)])]),_:1}),d("div",We,[l(e(k),{class:"w-full"},{default:t(({close:o})=>[l(e(U),{"as-child":""},{default:t(()=>[l(e(V),{variant:"outline",class:N(e(S)("w-full justify-start text-left font-normal",!y.value&&"text-muted-foreground"))},{default:t(()=>[l(e(z)),r(" "+m(y.value?e(j).format(y.value.toDate(e(D)())):"Pick a date"),1)]),_:1},8,["class"])]),_:1}),l(e(C),{class:"w-auto p-0",align:"start"},{default:t(()=>[l(e(L),{modelValue:y.value,"onUpdate:modelValue":[a[14]||(a[14]=_=>y.value=_),o],"default-placeholder":e(P),layout:"month-and-year","initial-focus":""},null,8,["modelValue","default-placeholder","onUpdate:modelValue"])]),_:2},1024)]),_:1})]),l(i,{message:e(s).errors.date_ready},null,8,["message"])])]),d("div",Xe,[d("div",Ye,[l(u,null,{default:t(()=>[...a[34]||(a[34]=[r("Date released",-1)])]),_:1}),d("div",Ze,[l(e(k),{class:"w-full"},{default:t(({close:o})=>[l(e(U),{"as-child":""},{default:t(()=>[l(e(V),{variant:"outline",class:N(e(S)("w-full justify-start text-left font-normal",!g.value&&"text-muted-foreground"))},{default:t(()=>[l(e(z)),r(" "+m(g.value?e(j).format(g.value.toDate(e(D)())):"Pick a date"),1)]),_:1},8,["class"])]),_:1}),l(e(C),{class:"w-auto p-0",align:"start"},{default:t(()=>[l(e(L),{modelValue:g.value,"onUpdate:modelValue":[a[15]||(a[15]=_=>g.value=_),o],"default-placeholder":e(P),layout:"month-and-year","initial-focus":""},null,8,["modelValue","default-placeholder","onUpdate:modelValue"])]),_:2},1024)]),_:1})]),l(i,{message:e(s).errors.date_released},null,8,["message"])]),d("div",el,[l(u,null,{default:t(()=>[...a[35]||(a[35]=[r("Time released",-1)])]),_:1}),l(f,{type:"time",id:"time_released",name:"time_released",placeholder:"enter time released here....",modelValue:e(s).time_released,"onUpdate:modelValue":a[16]||(a[16]=o=>e(s).time_released=o)},null,8,["modelValue"]),l(i,{message:e(s).errors.time_released},null,8,["message"])])])]),d("div",ll,[d("div",al,[l(u,null,{default:t(()=>[...a[36]||(a[36]=[r("Authority/Fund Source",-1)])]),_:1}),l(f,{type:"text",modelValue:e(s).authority_or_fund_source,"onUpdate:modelValue":a[17]||(a[17]=o=>e(s).authority_or_fund_source=o),id:"authority_or_fund_source",name:"authority_or_fund_source",placeholder:"enter authority or fund source here...."},null,8,["modelValue"]),l(i,{message:e(s).errors.authority_or_fund_source},null,8,["message"])]),d("div",sl,[l(u,null,{default:t(()=>[...a[37]||(a[37]=[r("Service to NCCA",-1)])]),_:1}),l(f,{type:"text",modelValue:e(s).service_to_ncca,"onUpdate:modelValue":a[18]||(a[18]=o=>e(s).service_to_ncca=o),id:"service_to_ncca",name:"service_to_ncca",placeholder:"enter service to ncca here...."},null,8,["modelValue"]),l(i,{message:e(s).errors.service_to_ncca},null,8,["message"])])]),d("div",tl,[d("div",ol,[l(u,null,{default:t(()=>[...a[38]||(a[38]=[r("Concerned Party/Supplier",-1)])]),_:1}),l(f,{type:"text",modelValue:e(s).concerned_party_or_supplier,"onUpdate:modelValue":a[19]||(a[19]=o=>e(s).concerned_party_or_supplier=o),id:"concerned_party_or_supplier",name:"concerned_party_or_supplier",placeholder:"enter concerned party or supplier here...."},null,8,["modelValue"]),l(i,{message:e(s).errors.concerned_party_or_supplier},null,8,["message"])]),d("div",dl,[l(u,null,{default:t(()=>[...a[39]||(a[39]=[r("Total Service Amount (Php.)",-1)])]),_:1}),l(f,{type:"number",modelValue:e(s).total_service_amount,"onUpdate:modelValue":a[20]||(a[20]=o=>e(s).total_service_amount=o),id:"total_service_amount",name:"total_service_amount",placeholder:"enter total service amount here...."},null,8,["modelValue"]),l(i,{message:e(s).errors.total_service_amount},null,8,["message"])])]),d("div",rl,[l(e(V),{type:"submit",class:"cursor-pointer"},{default:t(()=>[...a[40]||(a[40]=[r("Submit",-1)])]),_:1})])]),_:1})],64))}});export{Nl as _};
