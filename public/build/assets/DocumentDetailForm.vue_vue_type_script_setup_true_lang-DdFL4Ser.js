import{d as _e,B as fe,i as T,r as f,y as pe,L as R,c as h,F as x,b as d,a as l,f as $,k as ve,w as s,u as e,e as r,z as c,x as ye,p as ge,H as N,G as E,o as m}from"./app-DwFaDd9r.js";import{$ as Ve,a as D,b as be,_ as k,c as U,d as z,e as C,f as L,g as q,h as G,i as H,j as I,k as J,l as K,m as Q,n as W,o as X,p as Y,q as Z,r as ee,s as le}from"./index-CwY41i3r.js";import{c as S}from"./utils-kKsk6u8f.js";import{_ as g}from"./index-CLoxej2K.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-B3Wpkxc3.js";import{_ as u}from"./Label.vue_vue_type_script_setup_true_lang-CPwnwFCT.js";import{a as we,_ as he}from"./index-CNwgKfgn.js";import{_ as ae}from"./Badge.vue_vue_type_script_setup_true_lang-Btvl1zcq.js";import{_ as i}from"./InputError.vue_vue_type_script_setup_true_lang-8WrOk4qv.js";import{s as xe}from"./index-ikzcNs2d.js";import{C as $e}from"./check-check-VKUjfoQy.js";import{a as se}from"./chevrons-up-down-Dn9Pm84L.js";import{C as te}from"./check-DPLXEQ6N.js";const Ne={class:"grid p-5"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ue={class:"space-y-2"},Ce={class:"space-y-2"},Se={class:"date_received_date"},Oe={class:"space-y-2"},Ee={class:"grid grid-cols-1 gap-2"},De={class:"space-y-2"},Ae={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},je={class:"space-y-2"},Pe={class:"space-y-2"},Be={class:"grid grid-cols-1 gap-2"},Fe={class:"space-y-2"},Te={class:"grid grid-cols-1 gap-2"},Re={class:"space-y-2"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Le={class:"space-y-2"},Me={class:"space-y-2"},qe={class:"ncca_end_user_div"},Ge={class:"grid grid-cols-1 md:grid-cols-[50%_25%_25%] gap-2"},He={class:"space-y-2"},Ie={class:"office_concerned_div"},Je={class:"space-y-2"},Ke={class:"space-y-2"},Qe={class:"date_received_div"},We={class:"space-y-2"},Xe={class:"space-y-2"},Ye={class:"date_released_div"},Ze={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},el={class:"space-y-2"},ll={class:"space-y-2"},al={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},sl={class:"space-y-2"},tl={class:"flex items-center justify-center"},bl=_e({__name:"DocumentDetailForm",props:{documentTypes:{type:Array,default:()=>[]},complexities:{type:Array,default:()=>[]},offices:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]}},setup(A){const O=A,oe=fe(),M=T(()=>oe.props.flash.success),j=Ve(D()),p=f(),v=f(),y=f(),P=new be("en-US",{dateStyle:"long"}),B=f(""),F=f(""),t=pe({date_received:null,document_type:null,title:"",control_number:"",complexity:null,other_details:"",person_claiming_or_remarks:"",authority_or_fund_source:"",ncca_end_user:null,office_concerned:null,date_ready:null,date_released:null,service_to_ncca:"",concerned_party_or_supplier:"",total_service_amount:0,NewEmployeeName:"",NewOfficeName:""});R(p,(n,a)=>{t.date_received=n?n.toString():null}),R(v,(n,a)=>{t.date_ready=n?n.toString():null}),R(y,(n,a)=>{t.date_released=n?n.toString():null});const b=f(!1),w=f(!1),de=T(()=>O.employees.find(n=>n.id===t.ncca_end_user));function re(n){t.ncca_end_user=n===t.ncca_end_user?"":n,t.NewEmployeeName="",w.value=!1}function ne(){t.ncca_end_user=null,t.NewEmployeeName=B.value,w.value=!1}const ue=T(()=>O.offices.find(n=>n.id===t.office_concerned));function ie(n){t.office_concerned=n===t.office_concerned?"":n,t.NewOfficeName="",b.value=!1}function ce(){t.office_concerned=null,t.NewOfficeName=F.value,b.value=!1}const me=()=>{t.post(xe("document.store"),{onSuccess:()=>{t.reset()}})};return(n,a)=>(m(),h(x,null,[d("div",Ne,[M.value?(m(),$(e(he),{key:0,class:"bg-green-800 text-white"},{default:s(()=>[l(e($e)),l(e(we),null,{default:s(()=>[r(c(M.value),1)]),_:1})]),_:1})):ve("",!0)]),l(e(ye),{class:"p-5 space-y-5",onSubmit:ge(me,["prevent"])},{default:s(({errors:ol,processing:dl})=>[d("div",ke,[d("div",Ue,[d("div",Ce,[l(u,null,{default:s(()=>[...a[19]||(a[19]=[r("Date received",-1)])]),_:1}),d("div",Se,[l(e(k),{class:"w-full"},{default:s(({close:o})=>[l(e(U),{"as-child":""},{default:s(()=>[l(e(g),{variant:"outline",class:N(e(S)("w-full justify-start text-left font-normal",!p.value&&"text-muted-foreground"))},{default:s(()=>[l(e(z)),r(" "+c(p.value?e(P).format(p.value.toDate(e(D)())):"Pick a date"),1)]),_:1},8,["class"])]),_:1}),l(e(C),{class:"w-auto p-0",align:"start"},{default:s(()=>[l(e(L),{modelValue:p.value,"onUpdate:modelValue":[a[0]||(a[0]=_=>p.value=_),o],"default-placeholder":e(j),layout:"month-and-year","initial-focus":""},null,8,["modelValue","default-placeholder","onUpdate:modelValue"])]),_:2},1024)]),_:1})]),l(i,{message:e(t).errors.date_received},null,8,["message"])])]),d("div",Oe,[l(u,null,{default:s(()=>[...a[20]||(a[20]=[r("Document type",-1)])]),_:1}),l(e(q),{modelValue:e(t).document_type,"onUpdate:modelValue":a[1]||(a[1]=o=>e(t).document_type=o)},{default:s(()=>[l(e(G),{class:"w-full"},{default:s(()=>[l(e(H),{placeholder:"Select a document type"})]),_:1}),l(e(I),null,{default:s(()=>[l(e(J),null,{default:s(()=>[(m(!0),h(x,null,E(A.documentTypes,o=>(m(),$(e(ee),{key:o.id,value:o.id},{default:s(()=>[r(c(o.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(i,{message:e(t).errors.document_type},null,8,["message"])])]),d("div",Ee,[d("div",De,[l(u,null,{default:s(()=>[...a[21]||(a[21]=[r("Title",-1)])]),_:1}),l(V,{type:"text",modelValue:e(t).title,"onUpdate:modelValue":a[2]||(a[2]=o=>e(t).title=o),id:"title",name:"title",placeholder:"enter title here...."},null,8,["modelValue"]),l(i,{message:e(t).errors.title},null,8,["message"])])]),d("div",Ae,[d("div",je,[l(u,null,{default:s(()=>[...a[22]||(a[22]=[r("Control Number",-1)])]),_:1}),l(V,{type:"text",modelValue:e(t).control_number,"onUpdate:modelValue":a[3]||(a[3]=o=>e(t).control_number=o),id:"control_number",name:"control_number",placeholder:"enter control number here...."},null,8,["modelValue"]),l(i,{message:e(t).errors.control_number},null,8,["message"])]),d("div",Pe,[l(u,null,{default:s(()=>[...a[23]||(a[23]=[r("Simple/Complex",-1)])]),_:1}),l(e(q),{modelValue:e(t).complexity,"onUpdate:modelValue":a[4]||(a[4]=o=>e(t).complexity=o)},{default:s(()=>[l(e(G),{class:"w-full"},{default:s(()=>[l(e(H),{placeholder:"Select a complexity"})]),_:1}),l(e(I),null,{default:s(()=>[l(e(J),null,{default:s(()=>[(m(!0),h(x,null,E(A.complexities,o=>(m(),$(e(ee),{key:o.id,value:o.id},{default:s(()=>[r(c(o.codevalue),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),l(i,{message:e(t).errors.complexity},null,8,["message"])])]),d("div",Be,[d("div",Fe,[l(u,null,{default:s(()=>[...a[24]||(a[24]=[r("Other details",-1)])]),_:1}),l(K,{modelValue:e(t).other_details,"onUpdate:modelValue":a[5]||(a[5]=o=>e(t).other_details=o),id:"other_details",name:"other_details",rows:"2",placeholder:"enter other details here...."},null,8,["modelValue"]),l(i,{message:e(t).errors.other_details},null,8,["message"])])]),d("div",Te,[d("div",Re,[l(u,null,{default:s(()=>[...a[25]||(a[25]=[r("Person Claiming/Remarks",-1)])]),_:1}),l(K,{modelValue:e(t).person_claiming_or_remarks,"onUpdate:modelValue":a[6]||(a[6]=o=>e(t).person_claiming_or_remarks=o),id:"person_claiming_or_remarks",name:"person_claiming_or_remarks",rows:"2",placeholder:"enter remarks here...."},null,8,["modelValue"]),l(i,{message:e(t).errors.person_claiming_or_remarks},null,8,["message"])])]),d("div",ze,[d("div",Le,[l(u,null,{default:s(()=>[...a[26]||(a[26]=[r("Authority/Fund Source",-1)])]),_:1}),l(V,{type:"text",modelValue:e(t).authority_or_fund_source,"onUpdate:modelValue":a[7]||(a[7]=o=>e(t).authority_or_fund_source=o),id:"authority_or_fund_source",name:"authority_or_fund_source",placeholder:"enter authority or fund source here...."},null,8,["modelValue"]),l(i,{message:e(t).errors.authority_or_fund_source},null,8,["message"])]),d("div",Me,[l(u,null,{default:s(()=>[...a[27]||(a[27]=[r("NCCA End User",-1)])]),_:1}),d("div",qe,[l(e(k),{open:w.value,"onUpdate:open":a[10]||(a[10]=o=>w.value=o)},{default:s(()=>[l(e(U),{"as-child":""},{default:s(()=>[l(e(g),{variant:"outline",role:"combobox","aria-expanded":w.value,class:"w-full justify-between"},{default:s(()=>[r(c(de.value?.name||(e(t).NewEmployeeName?e(t).NewEmployeeName:"Employee..."))+" ",1),l(e(se),{class:"opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),l(e(C),{class:"w-full p-0"},{default:s(()=>[l(e(Q),null,{default:s(()=>[l(e(W),{class:"h-9 border border-gray-300 rounded-lg p-4",placeholder:"Search employee...",modelValue:B.value,"onUpdate:modelValue":a[8]||(a[8]=o=>B.value=o)},null,8,["modelValue"]),l(e(X),null,{default:s(()=>[l(e(Y),{class:"pr-2 pl-2"},{default:s(()=>[l(ae,{onClick:ne,class:"bg-blue-500 w-full hover:cursor-pointer hover:bg-blue-800"},{default:s(()=>[...a[28]||(a[28]=[r(" Add this to the list ",-1)])]),_:1})]),_:1}),l(e(Z),{class:"bg-gray-300"},{default:s(()=>[(m(!0),h(x,null,E(O.employees,o=>(m(),$(e(le),{class:"hover:cursor-pointer hover:bg-gray-200",key:o.id,value:o.id,onSelect:a[9]||(a[9]=_=>{re(_.detail.value)})},{default:s(()=>[r(c(o.name)+" ",1),l(e(te),{class:N(e(S)("ml-auto",e(t).ncca_end_user===o.id?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),l(i,{message:e(t).errors.ncca_end_user},null,8,["message"])])]),d("div",Ge,[d("div",He,[l(u,null,{default:s(()=>[...a[29]||(a[29]=[r("Office Concerned",-1)])]),_:1}),d("div",Ie,[l(e(k),{open:b.value,"onUpdate:open":a[13]||(a[13]=o=>b.value=o)},{default:s(()=>[l(e(U),{"as-child":""},{default:s(()=>[l(e(g),{variant:"outline",role:"combobox","aria-expanded":b.value,class:"w-full justify-between"},{default:s(()=>[r(c(ue.value?.name||(e(t).NewOfficeName?e(t).NewOfficeName:"Office..."))+" ",1),l(e(se),{class:"opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),l(e(C),{class:"w-full p-0"},{default:s(()=>[l(e(Q),null,{default:s(()=>[l(e(W),{class:"h-9",placeholder:"Search office...",modelValue:F.value,"onUpdate:modelValue":a[11]||(a[11]=o=>F.value=o)},null,8,["modelValue"]),l(e(X),null,{default:s(()=>[l(e(Y),null,{default:s(()=>[l(ae,{onClick:ce,class:"bg-blue-500 w-full hover:cursor-pointer hover:bg-blue-800"},{default:s(()=>[...a[30]||(a[30]=[r(" Add this to the list ",-1)])]),_:1})]),_:1}),l(e(Z),null,{default:s(()=>[(m(!0),h(x,null,E(O.offices,o=>(m(),$(e(le),{key:o.id,value:o.id,onSelect:a[12]||(a[12]=_=>{ie(_.detail.value)})},{default:s(()=>[r(c(o.name)+" ",1),l(e(te),{class:N(e(S)("ml-auto",e(t).office_concerned===o.id?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),l(i,{message:e(t).errors.office_concerned},null,8,["message"])]),d("div",Je,[d("div",Ke,[l(u,null,{default:s(()=>[...a[31]||(a[31]=[r("Date ready",-1)])]),_:1}),d("div",Qe,[l(e(k),{class:"w-full"},{default:s(({close:o})=>[l(e(U),{"as-child":""},{default:s(()=>[l(e(g),{variant:"outline",class:N(e(S)("w-full justify-start text-left font-normal",!v.value&&"text-muted-foreground"))},{default:s(()=>[l(e(z)),r(" "+c(v.value?e(P).format(v.value.toDate(e(D)())):"Pick a date"),1)]),_:1},8,["class"])]),_:1}),l(e(C),{class:"w-auto p-0",align:"start"},{default:s(()=>[l(e(L),{modelValue:v.value,"onUpdate:modelValue":[a[14]||(a[14]=_=>v.value=_),o],"default-placeholder":e(j),layout:"month-and-year","initial-focus":""},null,8,["modelValue","default-placeholder","onUpdate:modelValue"])]),_:2},1024)]),_:1})]),l(i,{message:e(t).errors.date_received},null,8,["message"])])]),d("div",We,[d("div",Xe,[l(u,null,{default:s(()=>[...a[32]||(a[32]=[r("Date released",-1)])]),_:1}),d("div",Ye,[l(e(k),{class:"w-full"},{default:s(({close:o})=>[l(e(U),{"as-child":""},{default:s(()=>[l(e(g),{variant:"outline",class:N(e(S)("w-full justify-start text-left font-normal",!y.value&&"text-muted-foreground"))},{default:s(()=>[l(e(z)),r(" "+c(y.value?e(P).format(y.value.toDate(e(D)())):"Pick a date"),1)]),_:1},8,["class"])]),_:1}),l(e(C),{class:"w-auto p-0",align:"start"},{default:s(()=>[l(e(L),{modelValue:y.value,"onUpdate:modelValue":[a[15]||(a[15]=_=>y.value=_),o],"default-placeholder":e(j),layout:"month-and-year","initial-focus":""},null,8,["modelValue","default-placeholder","onUpdate:modelValue"])]),_:2},1024)]),_:1})]),l(i,{message:e(t).errors.date_released},null,8,["message"])])])]),d("div",Ze,[d("div",el,[l(u,null,{default:s(()=>[...a[33]||(a[33]=[r("Service to NCCA",-1)])]),_:1}),l(V,{type:"text",modelValue:e(t).service_to_ncca,"onUpdate:modelValue":a[16]||(a[16]=o=>e(t).service_to_ncca=o),id:"service_to_ncca",name:"service_to_ncca",placeholder:"enter service to ncca here...."},null,8,["modelValue"]),l(i,{message:e(t).errors.service_to_ncca},null,8,["message"])]),d("div",ll,[l(u,null,{default:s(()=>[...a[34]||(a[34]=[r("Concerned Party/Supplier",-1)])]),_:1}),l(V,{type:"text",modelValue:e(t).concerned_party_or_supplier,"onUpdate:modelValue":a[17]||(a[17]=o=>e(t).concerned_party_or_supplier=o),id:"concerned_party_or_supplier",name:"concerned_party_or_supplier",placeholder:"enter concerned party or supplier here...."},null,8,["modelValue"]),l(i,{message:e(t).errors.concerned_party_or_supplier},null,8,["message"])])]),d("div",al,[d("div",sl,[l(u,null,{default:s(()=>[...a[35]||(a[35]=[r("Total Service Amount (Php.)",-1)])]),_:1}),l(V,{type:"number",modelValue:e(t).total_service_amount,"onUpdate:modelValue":a[18]||(a[18]=o=>e(t).total_service_amount=o),id:"total_service_amount",name:"total_service_amount",placeholder:"enter total service amount here...."},null,8,["modelValue"]),l(i,{message:e(t).errors.total_service_amount},null,8,["message"])])]),d("div",tl,[l(e(g),{type:"submit",class:"cursor-pointer"},{default:s(()=>[...a[36]||(a[36]=[r("Submit",-1)])]),_:1})])]),_:1})],64))}});export{bl as _};
