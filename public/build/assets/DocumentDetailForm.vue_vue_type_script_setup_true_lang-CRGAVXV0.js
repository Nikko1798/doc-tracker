import{M as U,d as ye,B as ge,i as q,r as C,y as ve,J as z,c as O,F as D,b as d,a as s,f as j,k as he,w as a,u as e,e as u,z as N,x as be,p as we,H as A,G as H,o as k}from"./app-mI0qlyDT.js";import{$ as Ve,a as M,b as xe,_ as P,c as R,C as G,d as F,e as J,f as I,g as K,h as Q,i as W,j as X,k as Y,l as Z,m as ee,n as se,o as te,p as le,q as oe,r as ae}from"./index-D_omLWyy.js";import{c as B}from"./index-DVfQ5S1Y.js";import{_ as S}from"./Button.vue_vue_type_script_setup_true_lang-D4V9jL43.js";import{_ as T}from"./Input.vue_vue_type_script_setup_true_lang-C5jv-mES.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-i5YncdhP.js";import{a as Ne,_ as ke}from"./index-CE3h8fn-.js";import{_ as ie}from"./Badge.vue_vue_type_script_setup_true_lang-Bm1nRTRs.js";import{_ as h}from"./InputError.vue_vue_type_script_setup_true_lang-DNOuZYv5.js";import{s as $e}from"./index-ikzcNs2d.js";import{C as Ee}from"./check-check-Ds_GSWfY.js";import{C as re}from"./chevrons-up-down-kraxAvF2.js";import{C as ne}from"./check-D7W1ub8_.js";let L=1;var Ce=class{subscribers;toasts;dismissedToasts;constructor(){this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}subscribe=i=>(this.subscribers.push(i),()=>{const l=this.subscribers.indexOf(i);this.subscribers.splice(l,1)});publish=i=>{this.subscribers.forEach(l=>l(i))};addToast=i=>{this.publish(i),this.toasts=[...this.toasts,i]};create=i=>{const{message:l,...n}=i,y=typeof i.id=="number"||i.id&&i.id?.length>0?i.id:L++,_=this.toasts.find(g=>g.id===y),c=i.dismissible===void 0?!0:i.dismissible;return this.dismissedToasts.has(y)&&this.dismissedToasts.delete(y),_?this.toasts=this.toasts.map(g=>g.id===y?(this.publish({...g,...i,id:y,title:l}),{...g,...i,id:y,dismissible:c,title:l}):g):this.addToast({title:l,...n,dismissible:c,id:y}),y};dismiss=i=>(i?(this.dismissedToasts.add(i),requestAnimationFrame(()=>this.subscribers.forEach(l=>l({id:i,dismiss:!0})))):this.toasts.forEach(l=>{this.subscribers.forEach(n=>n({id:l.id,dismiss:!0}))}),i);message=(i,l)=>this.create({...l,message:i,type:"default"});error=(i,l)=>this.create({...l,type:"error",message:i});success=(i,l)=>this.create({...l,type:"success",message:i});info=(i,l)=>this.create({...l,type:"info",message:i});warning=(i,l)=>this.create({...l,type:"warning",message:i});loading=(i,l)=>this.create({...l,type:"loading",message:i});promise=(i,l)=>{if(!l)return;let n;l.loading!==void 0&&(n=this.create({...l,promise:i,type:"loading",message:l.loading,description:typeof l.description!="function"?l.description:void 0}));const y=Promise.resolve(i instanceof Function?i():i);let _=n!==void 0,c;const g=y.then(async m=>{if(c=["resolve",m],U(m))_=!1,this.create({id:n,type:"default",message:m});else if(Te(m)&&!m.ok){_=!1;const f=typeof l.error=="function"?await l.error(`HTTP error! status: ${m.status}`):l.error,o=typeof l.description=="function"?await l.description(`HTTP error! status: ${m.status}`):l.description,V=typeof f=="object"&&!U(f)?f:{message:f||"",id:n||""};this.create({id:n,type:"error",description:o,...V})}else if(m instanceof Error){_=!1;const f=typeof l.error=="function"?await l.error(m):l.error,o=typeof l.description=="function"?await l.description(m):l.description,V=typeof f=="object"&&!U(f)?f:{message:f||"",id:n||""};this.create({id:n,type:"error",description:o,...V})}else if(l.success!==void 0){_=!1;const f=typeof l.success=="function"?await l.success(m):l.success,o=typeof l.description=="function"?await l.description(m):l.description,V=typeof f=="object"&&!U(f)?f:{message:f||"",id:n||""};this.create({id:n,type:"success",description:o,...V})}}).catch(async m=>{if(c=["reject",m],l.error!==void 0){_=!1;const b=typeof l.error=="function"?await l.error(m):l.error,f=typeof l.description=="function"?await l.description(m):l.description,x=typeof b=="object"&&!U(b)?b:{message:b||"",id:n||""};this.create({id:n,type:"error",description:f,...x})}}).finally(()=>{_&&(this.dismiss(n),n=void 0),l.finally?.()}),$=()=>new Promise((m,b)=>g.then(()=>c[0]==="reject"?b(c[1]):m(c[1])).catch(b));return typeof n!="string"&&typeof n!="number"?{unwrap:$}:Object.assign(n,{unwrap:$})};custom=(i,l)=>{const n=l?.id||L++,y=this.toasts.find(c=>c.id===n),_=l?.dismissible===void 0?!0:l.dismissible;return this.dismissedToasts.has(n)&&this.dismissedToasts.delete(n),y?this.toasts=this.toasts.map(c=>c.id===n?(this.publish({...c,component:i,dismissible:_,id:n,...l}),{...c,component:i,dismissible:_,id:n,...l}):c):this.addToast({component:i,dismissible:_,id:n,...l}),n};getActiveToasts=()=>this.toasts.filter(i=>!this.dismissedToasts.has(i.id))};const w=new Ce;function Se(i,l){const n=l?.id||L++;return w.create({message:i,id:n,type:"default",...l}),n}const Te=i=>i&&typeof i=="object"&&"ok"in i&&typeof i.ok=="boolean"&&"status"in i&&typeof i.status=="number",Ue=Se,Oe=()=>w.toasts,De=()=>w.getActiveToasts(),je=Object.assign(Ue,{success:w.success,info:w.info,warning:w.warning,error:w.error,custom:w.custom,message:w.message,promise:w.promise,dismiss:w.dismiss,loading:w.loading},{getHistory:Oe,getToasts:De}),Ae={class:"grid p-5"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Re={class:"space-y-2"},Fe={class:"space-y-2"},Be={class:"date_received_date"},He={class:"space-y-2"},Me={class:"grid grid-cols-1 gap-2"},qe={class:"space-y-2"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Ge={class:"space-y-2"},Je={class:"space-y-2"},Le={class:"grid grid-cols-1 gap-2"},Ie={class:"space-y-2"},Ke={class:"grid grid-cols-1 gap-2"},Qe={class:"space-y-2"},We={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},Xe={class:"space-y-2"},Ye={class:"space-y-2"},Ze={class:"ncca_end_user_div"},es={class:"grid grid-cols-1 md:grid-cols-[50%_25%_25%] gap-2"},ss={class:"space-y-2"},ts={class:"office_concerned_div"},ls={class:"space-y-2"},os={class:"space-y-2"},as={class:"date_received_div"},is={class:"space-y-2"},rs={class:"space-y-2"},ns={class:"date_released_div"},ds={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},us={class:"space-y-2"},cs={class:"space-y-2"},ms={class:"grid grid-cols-1 md:grid-cols-2 gap-2"},fs={class:"space-y-2"},ps={class:"flex items-center justify-center"},Ts=ye({__name:"DocumentDetailForm",props:{documentTypes:{type:Array,default:()=>[]},complexities:{type:Array,default:()=>[]},offices:{type:Array,default:()=>[]},employees:{type:Array,default:()=>[]}},setup(i){const l=i,n=ge(),y=q(()=>n.props.flash.success),_=Ve(M()),c=C(),g=C(),$=C(),m=new xe("en-US",{dateStyle:"long"}),b=C(""),f=C(""),o=ve({date_received:null,document_type:null,title:"",control_number:"",complexity:null,other_details:"",person_claiming_or_remarks:"",authority_or_fund_source:"",ncca_end_user:null,office_concerned:null,date_ready:null,date_released:null,service_to_ncca:"",concerned_party_or_supplier:"",total_service_amount:0,NewEmployeeName:"",NewOfficeName:""});z(c,(p,t)=>{o.date_received=p?p.toString():null}),z(g,(p,t)=>{o.date_ready=p?p.toString():null}),z($,(p,t)=>{o.date_released=p?p.toString():null});const x=C(!1),V=C(!1),de=q(()=>l.employees.find(p=>p.id===o.ncca_end_user));function ue(p){o.ncca_end_user=p===o.ncca_end_user?"":p,o.NewEmployeeName="",V.value=!1}function ce(){o.ncca_end_user=null,o.NewEmployeeName=b.value,V.value=!1}const me=q(()=>l.offices.find(p=>p.id===o.office_concerned));function fe(p){o.office_concerned=p===o.office_concerned?"":p,o.NewOfficeName="",x.value=!1}function pe(){o.office_concerned=null,o.NewOfficeName=f.value,x.value=!1}const _e=()=>{o.post($e("document.store"),{onSuccess:()=>{o.reset(),je("Event has been created",{description:"Sunday, December 03, 2023 at 9:00 AM",action:{label:"Undo",onClick:()=>console.log("Undo")}})}})};return(p,t)=>(k(),O(D,null,[d("div",Ae,[y.value?(k(),j(e(ke),{key:0,class:"bg-green-800 text-white"},{default:a(()=>[s(e(Ee)),s(e(Ne),null,{default:a(()=>[u(N(y.value),1)]),_:1})]),_:1})):he("",!0)]),s(e(be),{class:"p-5 space-y-5",onSubmit:we(_e,["prevent"])},{default:a(({errors:_s,processing:ys})=>[d("div",Pe,[d("div",Re,[d("div",Fe,[s(v,null,{default:a(()=>[...t[19]||(t[19]=[u("Date received",-1)])]),_:1}),d("div",Be,[s(e(P),{class:"w-full"},{default:a(({close:r})=>[s(e(R),{"as-child":""},{default:a(()=>[s(e(S),{variant:"outline",class:A(e(B)("w-full justify-start text-left font-normal",!c.value&&"text-muted-foreground"))},{default:a(()=>[s(e(G)),u(" "+N(c.value?e(m).format(c.value.toDate(e(M)())):"Pick a date"),1)]),_:1},8,["class"])]),_:1}),s(e(F),{class:"w-auto p-0",align:"start"},{default:a(()=>[s(e(J),{modelValue:c.value,"onUpdate:modelValue":[t[0]||(t[0]=E=>c.value=E),r],"default-placeholder":e(_),layout:"month-and-year","initial-focus":""},null,8,["modelValue","default-placeholder","onUpdate:modelValue"])]),_:2},1024)]),_:1})]),s(h,{message:e(o).errors.date_received},null,8,["message"])])]),d("div",He,[s(v,null,{default:a(()=>[...t[20]||(t[20]=[u("Document type",-1)])]),_:1}),s(e(I),{modelValue:e(o).document_type,"onUpdate:modelValue":t[1]||(t[1]=r=>e(o).document_type=r)},{default:a(()=>[s(e(K),{class:"w-full"},{default:a(()=>[s(e(Q),{placeholder:"Select a document type"})]),_:1}),s(e(W),null,{default:a(()=>[s(e(X),null,{default:a(()=>[(k(!0),O(D,null,H(i.documentTypes,r=>(k(),j(e(oe),{key:r.id,value:r.id},{default:a(()=>[u(N(r.name),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(h,{message:e(o).errors.document_type},null,8,["message"])])]),d("div",Me,[d("div",qe,[s(v,null,{default:a(()=>[...t[21]||(t[21]=[u("Title",-1)])]),_:1}),s(T,{type:"text",modelValue:e(o).title,"onUpdate:modelValue":t[2]||(t[2]=r=>e(o).title=r),id:"title",name:"title",placeholder:"enter title here...."},null,8,["modelValue"]),s(h,{message:e(o).errors.title},null,8,["message"])])]),d("div",ze,[d("div",Ge,[s(v,null,{default:a(()=>[...t[22]||(t[22]=[u("Control Number",-1)])]),_:1}),s(T,{type:"text",modelValue:e(o).control_number,"onUpdate:modelValue":t[3]||(t[3]=r=>e(o).control_number=r),id:"control_number",name:"control_number",placeholder:"enter control number here...."},null,8,["modelValue"]),s(h,{message:e(o).errors.control_number},null,8,["message"])]),d("div",Je,[s(v,null,{default:a(()=>[...t[23]||(t[23]=[u("Simple/Complex",-1)])]),_:1}),s(e(I),{modelValue:e(o).complexity,"onUpdate:modelValue":t[4]||(t[4]=r=>e(o).complexity=r)},{default:a(()=>[s(e(K),{class:"w-full"},{default:a(()=>[s(e(Q),{placeholder:"Select a complexity"})]),_:1}),s(e(W),null,{default:a(()=>[s(e(X),null,{default:a(()=>[(k(!0),O(D,null,H(i.complexities,r=>(k(),j(e(oe),{key:r.id,value:r.id},{default:a(()=>[u(N(r.codevalue),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"]),s(h,{message:e(o).errors.complexity},null,8,["message"])])]),d("div",Le,[d("div",Ie,[s(v,null,{default:a(()=>[...t[24]||(t[24]=[u("Other details",-1)])]),_:1}),s(Y,{modelValue:e(o).other_details,"onUpdate:modelValue":t[5]||(t[5]=r=>e(o).other_details=r),id:"other_details",name:"other_details",rows:"2",placeholder:"enter other details here...."},null,8,["modelValue"]),s(h,{message:e(o).errors.other_details},null,8,["message"])])]),d("div",Ke,[d("div",Qe,[s(v,null,{default:a(()=>[...t[25]||(t[25]=[u("Other details",-1)])]),_:1}),s(Y,{modelValue:e(o).person_claiming_or_remarks,"onUpdate:modelValue":t[6]||(t[6]=r=>e(o).person_claiming_or_remarks=r),id:"person_claiming_or_remarks",name:"person_claiming_or_remarks",rows:"2",placeholder:"enter remarks here...."},null,8,["modelValue"]),s(h,{message:e(o).errors.person_claiming_or_remarks},null,8,["message"])])]),d("div",We,[d("div",Xe,[s(v,null,{default:a(()=>[...t[26]||(t[26]=[u("Authority/Fund Source",-1)])]),_:1}),s(T,{type:"text",modelValue:e(o).authority_or_fund_source,"onUpdate:modelValue":t[7]||(t[7]=r=>e(o).authority_or_fund_source=r),id:"authority_or_fund_source",name:"authority_or_fund_source",placeholder:"enter authority or fund source here...."},null,8,["modelValue"]),s(h,{message:e(o).errors.authority_or_fund_source},null,8,["message"])]),d("div",Ye,[s(v,null,{default:a(()=>[...t[27]||(t[27]=[u("NCCA End User",-1)])]),_:1}),d("div",Ze,[s(e(P),{open:V.value,"onUpdate:open":t[10]||(t[10]=r=>V.value=r)},{default:a(()=>[s(e(R),{"as-child":""},{default:a(()=>[s(e(S),{variant:"outline",role:"combobox","aria-expanded":V.value,class:"w-full justify-between"},{default:a(()=>[u(N(de.value?.name||(e(o).NewEmployeeName?e(o).NewEmployeeName:"Employee..."))+" ",1),s(e(re),{class:"opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),s(e(F),{class:"w-full p-0"},{default:a(()=>[s(e(Z),null,{default:a(()=>[s(e(ee),{class:"h-9 border border-gray-300 rounded-lg p-4",placeholder:"Search employee...",modelValue:b.value,"onUpdate:modelValue":t[8]||(t[8]=r=>b.value=r)},null,8,["modelValue"]),s(e(se),null,{default:a(()=>[s(e(te),{class:"pr-2 pl-2"},{default:a(()=>[s(ie,{onClick:ce,class:"bg-blue-500 w-full hover:cursor-pointer hover:bg-blue-800"},{default:a(()=>[...t[28]||(t[28]=[u(" Add this to the list ",-1)])]),_:1})]),_:1}),s(e(le),{class:"bg-gray-300"},{default:a(()=>[(k(!0),O(D,null,H(l.employees,r=>(k(),j(e(ae),{class:"hover:cursor-pointer hover:bg-gray-200",key:r.id,value:r.id,onSelect:t[9]||(t[9]=E=>{ue(E.detail.value)})},{default:a(()=>[u(N(r.name)+" ",1),s(e(ne),{class:A(e(B)("ml-auto",e(o).ncca_end_user===r.id?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),s(h,{message:e(o).errors.ncca_end_user},null,8,["message"])])]),d("div",es,[d("div",ss,[s(v,null,{default:a(()=>[...t[29]||(t[29]=[u("Office Concerned",-1)])]),_:1}),d("div",ts,[s(e(P),{open:x.value,"onUpdate:open":t[13]||(t[13]=r=>x.value=r)},{default:a(()=>[s(e(R),{"as-child":""},{default:a(()=>[s(e(S),{variant:"outline",role:"combobox","aria-expanded":x.value,class:"w-full justify-between"},{default:a(()=>[u(N(me.value?.name||(e(o).NewOfficeName?e(o).NewOfficeName:"Office..."))+" ",1),s(e(re),{class:"opacity-50"})]),_:1},8,["aria-expanded"])]),_:1}),s(e(F),{class:"w-full p-0"},{default:a(()=>[s(e(Z),null,{default:a(()=>[s(e(ee),{class:"h-9",placeholder:"Search office...",modelValue:f.value,"onUpdate:modelValue":t[11]||(t[11]=r=>f.value=r)},null,8,["modelValue"]),s(e(se),null,{default:a(()=>[s(e(te),null,{default:a(()=>[s(ie,{onClick:pe,class:"bg-blue-500 w-full hover:cursor-pointer hover:bg-blue-800"},{default:a(()=>[...t[30]||(t[30]=[u(" Add this to the list ",-1)])]),_:1})]),_:1}),s(e(le),null,{default:a(()=>[(k(!0),O(D,null,H(l.offices,r=>(k(),j(e(ae),{key:r.id,value:r.id,onSelect:t[12]||(t[12]=E=>{fe(E.detail.value)})},{default:a(()=>[u(N(r.name)+" ",1),s(e(ne),{class:A(e(B)("ml-auto",e(o).office_concerned===r.id?"opacity-100":"opacity-0"))},null,8,["class"])]),_:2},1032,["value"]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),s(h,{message:e(o).errors.office_concerned},null,8,["message"])]),d("div",ls,[d("div",os,[s(v,null,{default:a(()=>[...t[31]||(t[31]=[u("Date ready",-1)])]),_:1}),d("div",as,[s(e(P),{class:"w-full"},{default:a(({close:r})=>[s(e(R),{"as-child":""},{default:a(()=>[s(e(S),{variant:"outline",class:A(e(B)("w-full justify-start text-left font-normal",!g.value&&"text-muted-foreground"))},{default:a(()=>[s(e(G)),u(" "+N(g.value?e(m).format(g.value.toDate(e(M)())):"Pick a date"),1)]),_:1},8,["class"])]),_:1}),s(e(F),{class:"w-auto p-0",align:"start"},{default:a(()=>[s(e(J),{modelValue:g.value,"onUpdate:modelValue":[t[14]||(t[14]=E=>g.value=E),r],"default-placeholder":e(_),layout:"month-and-year","initial-focus":""},null,8,["modelValue","default-placeholder","onUpdate:modelValue"])]),_:2},1024)]),_:1})]),s(h,{message:e(o).errors.date_received},null,8,["message"])])]),d("div",is,[d("div",rs,[s(v,null,{default:a(()=>[...t[32]||(t[32]=[u("Date released",-1)])]),_:1}),d("div",ns,[s(e(P),{class:"w-full"},{default:a(({close:r})=>[s(e(R),{"as-child":""},{default:a(()=>[s(e(S),{variant:"outline",class:A(e(B)("w-full justify-start text-left font-normal",!$.value&&"text-muted-foreground"))},{default:a(()=>[s(e(G)),u(" "+N($.value?e(m).format($.value.toDate(e(M)())):"Pick a date"),1)]),_:1},8,["class"])]),_:1}),s(e(F),{class:"w-auto p-0",align:"start"},{default:a(()=>[s(e(J),{modelValue:$.value,"onUpdate:modelValue":[t[15]||(t[15]=E=>$.value=E),r],"default-placeholder":e(_),layout:"month-and-year","initial-focus":""},null,8,["modelValue","default-placeholder","onUpdate:modelValue"])]),_:2},1024)]),_:1})]),s(h,{message:e(o).errors.date_released},null,8,["message"])])])]),d("div",ds,[d("div",us,[s(v,null,{default:a(()=>[...t[33]||(t[33]=[u("Service to NCCA",-1)])]),_:1}),s(T,{type:"text",modelValue:e(o).service_to_ncca,"onUpdate:modelValue":t[16]||(t[16]=r=>e(o).service_to_ncca=r),id:"service_to_ncca",name:"service_to_ncca",placeholder:"enter service to ncca here...."},null,8,["modelValue"]),s(h,{message:e(o).errors.service_to_ncca},null,8,["message"])]),d("div",cs,[s(v,null,{default:a(()=>[...t[34]||(t[34]=[u("Concerned Party/Supplier",-1)])]),_:1}),s(T,{type:"text",modelValue:e(o).concerned_party_or_supplier,"onUpdate:modelValue":t[17]||(t[17]=r=>e(o).concerned_party_or_supplier=r),id:"concerned_party_or_supplier",name:"concerned_party_or_supplier",placeholder:"enter concerned party or supplier here...."},null,8,["modelValue"]),s(h,{message:e(o).errors.concerned_party_or_supplier},null,8,["message"])])]),d("div",ms,[d("div",fs,[s(v,null,{default:a(()=>[...t[35]||(t[35]=[u("Total Service Amount (Php.)",-1)])]),_:1}),s(T,{type:"number",modelValue:e(o).total_service_amount,"onUpdate:modelValue":t[18]||(t[18]=r=>e(o).total_service_amount=r),id:"total_service_amount",name:"total_service_amount",placeholder:"enter total service amount here...."},null,8,["modelValue"]),s(h,{message:e(o).errors.total_service_amount},null,8,["message"])])]),d("div",ps,[s(e(S),{type:"submit",class:"cursor-pointer"},{default:a(()=>[...t[36]||(t[36]=[u("Submit",-1)])]),_:1})])]),_:1})],64))}});export{Ts as _};
