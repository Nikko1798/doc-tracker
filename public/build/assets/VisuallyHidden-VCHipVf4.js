import{c as x}from"./createContext-qz5EJi_f.js";import{A as p,k as N,ag as R,P as g,s as U,q as D,d as M,M as F,ah as $,G as T,a5 as L,a6 as k,J as V,ai as q,e as j,o as B,w as H,r as W,u as Y}from"./app-bIxSf40v.js";import{r as z,S as C,P as K}from"./index-CCCT-5bw.js";import{i as G,l as J,b}from"./index-rohozNM1.js";function I(){let t=document.activeElement;if(t==null)return null;for(;t!=null&&t.shadowRoot!=null&&t.shadowRoot.activeElement!=null;)t=t.shadowRoot.activeElement;return t}const[Q]=x("ConfigProvider");function le(t){const e=Q({dir:p("ltr")});return N(()=>t?.value||e.dir?.value||"ltr")}function ue(t,e="reka"){return`${e}-${R?.()}`}function X(t,e){const r=p(t);function i(u){return e[r.value][u]??r.value}return{state:r,dispatch:u=>{r.value=i(u)}}}function Z(t,e){const r=p({}),i=p("none"),o=p(t),u=t.value?"mounted":"unmounted";let c;const m=e.value?.ownerDocument.defaultView??G,{state:f,dispatch:s}=X(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}}),n=a=>{if(J){const d=new CustomEvent(a,{bubbles:!1,cancelable:!1});e.value?.dispatchEvent(d)}};g(t,async(a,d)=>{const S=d!==a;if(await U(),S){const _=i.value,w=y(e.value);a?(s("MOUNT"),n("enter"),w==="none"&&n("after-enter")):w==="none"||w==="undefined"||r.value?.display==="none"?(s("UNMOUNT"),n("leave"),n("after-leave")):d&&_!==w?(s("ANIMATION_OUT"),n("leave")):(s("UNMOUNT"),n("after-leave"))}},{immediate:!0});const l=a=>{const d=y(e.value),S=d.includes(CSS.escape(a.animationName)),_=f.value==="mounted"?"enter":"leave";if(a.target===e.value&&S&&(n(`after-${_}`),s("ANIMATION_END"),!o.value)){const w=e.value.style.animationFillMode;e.value.style.animationFillMode="forwards",c=m?.setTimeout(()=>{e.value?.style.animationFillMode==="forwards"&&(e.value.style.animationFillMode=w)})}a.target===e.value&&d==="none"&&s("ANIMATION_END")},v=a=>{a.target===e.value&&(i.value=y(e.value))},A=g(e,(a,d)=>{a?(r.value=getComputedStyle(a),a.addEventListener("animationstart",v),a.addEventListener("animationcancel",l),a.addEventListener("animationend",l)):(s("ANIMATION_END"),c!==void 0&&m?.clearTimeout(c),d?.removeEventListener("animationstart",v),d?.removeEventListener("animationcancel",l),d?.removeEventListener("animationend",l))},{immediate:!0}),h=g(f,()=>{const a=y(e.value);i.value=f.value==="mounted"?a:"none"});return D(()=>{A(),h()}),{isPresent:N(()=>["mounted","unmountSuspended"].includes(f.value))}}function y(t){return t&&getComputedStyle(t).animationName||"none"}var ce=M({name:"Presence",props:{present:{type:Boolean,required:!0},forceMount:{type:Boolean}},slots:{},setup(t,{slots:e,expose:r}){const{present:i,forceMount:o}=F(t),u=p(),{isPresent:c}=Z(i,u);r({present:c});let m=e.default({present:c.value});m=z(m||[]);const f=$();if(m&&m?.length>1){const s=f?.parent?.type.name?`<${f.parent.type.name} />`:"component";throw new Error([`Detected an invalid children for \`${s}\` for  \`Presence\` component.`,"","Note: Presence works similarly to `v-if` directly, but it waits for animation/transition to finished before unmounting. So it expect only one direct child of valid VNode type.","You can apply a few solutions:",["Provide a single child element so that `presence` directive attach correctly.","Ensure the first child is an actual element instead of a raw text node or comment node."].map(n=>`  - ${n}`).join(`
`)].join(`
`))}return()=>o.value||i.value||c.value?T(e.default({present:c.value})[0],{ref:s=>{const n=b(s);return typeof n?.hasAttribute>"u"||(n?.hasAttribute("data-reka-popper-content-wrapper")?u.value=n.firstElementChild:u.value=n),n}}):null}});function P(){const t=p(),e=N(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:b(t));return{primitiveElement:t,currentElement:e}}const O="data-reka-collection-item";function de(t={}){const{key:e="",isProvider:r=!1}=t,i=`${e}CollectionProvider`;let o;if(r){const n=p(new Map);o={collectionRef:p(),itemMap:n},L(i,o)}else o=k(i);const u=(n=!1)=>{const l=o.collectionRef.value;if(!l)return[];const v=Array.from(l.querySelectorAll(`[${O}]`)),h=Array.from(o.itemMap.value.values()).sort((E,a)=>v.indexOf(E.ref)-v.indexOf(a.ref));return n?h:h.filter(E=>E.ref.dataset.disabled!=="")},c=M({name:"CollectionSlot",setup(n,{slots:l}){const{primitiveElement:v,currentElement:A}=P();return g(A,()=>{o.collectionRef.value=A.value}),()=>T(C,{ref:v},l)}}),m=M({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(n,{slots:l,attrs:v}){const{primitiveElement:A,currentElement:h}=P();return V(E=>{if(h.value){const a=q(h.value);o.itemMap.value.set(a,{ref:h.value,value:n.value}),E(()=>o.itemMap.value.delete(a))}}),()=>T(C,{...v,[O]:"",ref:A},l)}}),f=N(()=>Array.from(o.itemMap.value.values())),s=N(()=>o.itemMap.value.size);return{getItems:u,reactiveItems:f,itemMapSize:s,CollectionSlot:c,CollectionItem:m}}const me="rovingFocusGroup.onEntryFocus",fe={bubbles:!1,cancelable:!0},ee={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function te(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function ve(t,e,r){const i=te(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(i))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(i)))return ee[i]}function pe(t,e=!1){const r=I();for(const i of t)if(i===r||(i.focus({preventScroll:e}),I()!==r))return}function he(t,e){return t.map((r,i)=>t[(e+i)%t.length])}var ne=M({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(t){return(e,r)=>(B(),j(Y(K),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:H(()=>[W(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),Ae=ne;export{me as E,ce as P,Ae as V,de as a,P as b,le as c,I as d,fe as e,pe as f,ve as g,Q as i,ue as u,he as w};
